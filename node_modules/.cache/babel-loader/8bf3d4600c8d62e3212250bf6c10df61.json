{"ast":null,"code":"import firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/database';\nexport const sendFavourites = favourites => {\n  if (favourites === '') {\n    return;\n  }\n\n  const currentUser = firebase.auth().currentUser;\n  let userId;\n\n  if (currentUser != null) {\n    userId = currentUser.uid;\n  }\n\n  firebase.database().ref(\"favourites/\".concat(userId)).set(favourites);\n};\nexport const fetchFavourites = (callback, uid) => {\n  const favouritesRef = firebase.database().ref(\"favourites/\".concat(uid));\n  favouritesRef.on('value', snapshot => {\n    const favourites = snapshot.val();\n\n    if (favourites !== null) {\n      callback(favourites);\n    } else {\n      callback({});\n    }\n  });\n  return favouritesRef;\n};","map":{"version":3,"sources":["/home/monika/Pulpit/gapinska git/Project SPA/src/services/FavouritesService.js"],"names":["firebase","sendFavourites","favourites","currentUser","auth","userId","uid","database","ref","set","fetchFavourites","callback","favouritesRef","on","snapshot","val"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,cAArB;AACA,OAAO,eAAP;AACA,OAAO,mBAAP;AAEA,OAAO,MAAMC,cAAc,GAAGC,UAAU,IAAI;AAC1C,MAAIA,UAAU,KAAK,EAAnB,EAAuB;AACrB;AACD;;AAED,QAAMC,WAAW,GAAGH,QAAQ,CAACI,IAAT,GAAgBD,WAApC;AACA,MAAIE,MAAJ;;AACA,MAAIF,WAAW,IAAI,IAAnB,EAAyB;AACvBE,IAAAA,MAAM,GAAGF,WAAW,CAACG,GAArB;AACD;;AAEDN,EAAAA,QAAQ,CACLO,QADH,GAEGC,GAFH,sBAEqBH,MAFrB,GAGGI,GAHH,CAGOP,UAHP;AAID,CAfM;AAiBP,OAAO,MAAMQ,eAAe,GAAG,CAACC,QAAD,EAAWL,GAAX,KAAmB;AAChD,QAAMM,aAAa,GAAGZ,QAAQ,CAACO,QAAT,GAAoBC,GAApB,sBAAsCF,GAAtC,EAAtB;AAEAM,EAAAA,aAAa,CAACC,EAAd,CAAiB,OAAjB,EAA0BC,QAAQ,IAAI;AACpC,UAAMZ,UAAU,GAAGY,QAAQ,CAACC,GAAT,EAAnB;;AACA,QAAIb,UAAU,KAAK,IAAnB,EAAyB;AACvBS,MAAAA,QAAQ,CAACT,UAAD,CAAR;AACD,KAFD,MAEO;AACLS,MAAAA,QAAQ,CAAC,EAAD,CAAR;AACD;AACF,GAPD;AASA,SAAOC,aAAP;AACD,CAbM","sourcesContent":["import firebase from 'firebase/app'\nimport 'firebase/auth'\nimport 'firebase/database'\n\nexport const sendFavourites = favourites => {\n  if (favourites === '') {\n    return\n  }\n\n  const currentUser = firebase.auth().currentUser\n  let userId\n  if (currentUser != null) {\n    userId = currentUser.uid\n  }\n\n  firebase\n    .database()\n    .ref(`favourites/${userId}`)\n    .set(favourites)\n}\n\nexport const fetchFavourites = (callback, uid) => {\n  const favouritesRef = firebase.database().ref(`favourites/${uid}`)\n\n  favouritesRef.on('value', snapshot => {\n    const favourites = snapshot.val()\n    if (favourites !== null) {\n      callback(favourites)\n    } else {\n      callback({})\n    }\n  })\n\n  return favouritesRef\n}\n"]},"metadata":{},"sourceType":"module"}